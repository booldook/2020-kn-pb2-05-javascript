<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>parent(), find(), sibling(), prev(), next()</title>
	<link rel="stylesheet" href="../css/bootstrap.min.css">
	<style>
		.wrapper {display: flex; justify-content: space-between; max-width: 800px; margin: 100px auto;}
		.prd-stage {flex: 30% 0 0; height: 250px; border: 1px solid #000; position: relative;}
		.list {width: 100%; height: 100%; position: absolute; font-size: 50px; background-color: bisque;}
		.pager-wrap {position: absolute; z-index:2; bottom: 10px; width: 100%; display: flex; justify-content: center;}
		.pager {font-size: 20px; padding: 4px; user-select: none; cursor: pointer;}
	</style>
	<script src="../js/jquery-3.5.1.min.js"></script>
</head>
<body>
	<!-- .prd-stage*3>.lists>.list*3^.pager-wrap>.pager*3{$} -->
	<div class="wrapper">
		<div class="prd-stage">
			<div class="lists">
				<div class="list">1</div>
				<div class="list">2</div>
				<div class="list">3</div>
			</div>
			<div class="pager-wrap">
				<div class="pager">1</div>
				<div class="pager">2</div>
				<div class="pager">3</div>
			</div>
		</div>
		<div class="prd-stage">
			<div class="lists">
				<div class="list">1</div>
				<div class="list">2</div>
				<div class="list">3</div>
			</div>
			<div class="pager-wrap">
				<div class="pager">1</div>
				<div class="pager">2</div>
				<div class="pager">3</div>
			</div>
		</div>
		<div class="prd-stage">
			<div class="lists">
				<div class="list">1</div>
				<div class="list">2</div>
				<div class="list">3</div>
			</div>
			<div class="pager-wrap">
				<div class="pager">1</div>
				<div class="pager">2</div>
				<div class="pager">3</div>
			</div>
		</div>
	</div>
	<script>
		var $list;
		var $pager;
		// $(".lists").eq(0).find(".list").eq(0).css("z-index", 1);
		// $(".lists").eq(1).find(".list").eq(0).css("z-index", 1);
		// $(".lists").eq(2).find(".list").eq(0).css("z-index", 1);
		$(".lists").each(function(i){
			// $(".lists").eq(i).find(".list").eq(0).css("z-index", 1);
			$(this).find(".list").eq(0).css("z-index", 1);
		});

		//find(): 자손, children: 자식, parent(): 부모, parents(): 조상, next(), prev(), siblings(), first(), last()
		$(".pager").click(function(){
			console.log($(this).parent().parent().parent());
			console.log($(this).parents(".wrapper"));
			$pager = $(this);
			$list = $(this).parent().prev().find(".list").eq($(this).index());
			/*
			var stageId = $(this).parent().parent().index();
			$(".prd-stage").eq(stageId).find(".list").css("z-index", 0);
			$(".prd-stage").eq(stageId).find(".list").eq(id).css("z-index", 1);
			*/
			/*
			$(this).parent().prev().find(".list").css("z-index", 0);
			$(this).parent().prev().find(".list").eq(id).css("z-index", 1);
			*/
			$list.css("z-index", 1).siblings().css("z-index", 0);
			$pager.css("color", "red").siblings().css("color", "#000");
			ani();
		});


		/*
		/* 콜백복습
		var a = 10;
		var b = 20;
		function test(fn) {
			var c = a + b;
			fn(c);
		}

		test(function(sum){
			console.log(sum);
		});
		*/
	</script>
</body>
</html>